---
import MyLayout from "../layouts/MyLayout.astro";
const title = "Hello! I'm Efraim.";

const skillset = [
  {
    iconClass: "fa-brands fa-html5",
    skillname: "HTML",
  },
  {
    iconClass: "fa-brands fa-css3",
    skillname: "CSS",
  },
  {
    iconClass: "fa-brands fa-sass",
    skillname: "Sass",
  },
  {
    iconClass: "fa-brands fa-js",
    skillname: "JavaScript",
  },
  {
    iconClass: "fa-brands fa-vuejs",
    skillname: "Vue",
  },
  {
    iconClass: "fa-brands fa-git",
    skillname: "Git",
  },
  {
    iconClass: "fa-brands fa-github",
    skillname: "Github",
  },
  {
    iconClass: "fa-brands fa-python",
    skillname: "Python",
  },
];

const projects = [
  {
    link: "https://github.com/Klrfl/Sebastian",
    image: "../src/assets/Sebastian.png",
    heading: "Sebastian",
    text: "This is my first ever static site, made when I barely knew anything about CSS.",
    alt: "Screenshot of Sebastian's landing page",
  },
  {
    link: "https://github.com/Klrfl/Sebastian-Sidebar",
    image: "../src/assets/Sebastian Sidebar.png",
    heading: "Sebastian Sidebar",
    text: "This is an improved version of my first static site. Looks quite similar.",
    alt: "Screenshot of Sebastian Sidebar's landing page",
  },
  {
    link: "https://github.com/Klrfl/suwit-jawa",
    image: "../src/assets/Suwit Jawa by Klrfl.png",
    heading: "Suwit Jawa in JS",
    text: "Suwit Jawa game I made in JS.",
    alt: "Screenshot of my Suwit Jawa game",
  },
  {
    link: "https://porto.lupy.my.id",
    image: "../src/assets/X PPLG Portofolio Landing Page.png",
    heading: "PPLG Portfolio landing page.",
    text: "I designed the grid layout of this landing page",
    alt: "PPLG Portfolio collection landing page",
  },
];
---

<MyLayout title={title}>
  <main>
    <section class="hero">
      <div class="hero__text">
        <h1>{title}</h1>
        <p>I like making web experiences or something lol</p>
      </div>
      <div class="hero__image"></div>
    </section>

    <section class="main-section main-section--skils" id="skills">
      <div class="main-section__text">
        <h2>Skills</h2>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit
          voluptas voluptate alias, a enim quia veniam sit ex facilis sunt
          numquam maiores minus, esse dicta est quam voluptatum optio aut.
        </p>
      </div>
      <div class="skills__cards-container">
        {
          skillset.map((skill) => (
            <div class="skill-card">
              <span class="skill-text">
                <i class:list={skill.iconClass} />
                {skill.skillname}
              </span>
            </div>
          ))
        }
      </div>
    </section>
    <section class="main-section" id="projects">
      <div class="main-section__text">
        <h2>Projects</h2>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore
          porro reprehenderit deleniti? Ipsa porro corrupti iusto quae nesciunt
          officiis quos neque modi ullam quis magni, esse libero, reprehenderit
          est odio!
        </p>
      </div>

      <div class="projects-container">
        {
          projects.map((project) => (
            <div class="project-card">
              <a href={project.link}>
                <img
                  src={project.image}
                  alt={`Screenshot of my project ${project.heading}`}
                />
              </a>
              <div class="project-text">
                <h3>{project.heading}</h3>
                <p>{project.text}</p>
              </div>
            </div>
          ))
        }
        <div class="project"></div>
      </div>
    </section>

    <section class="main-section" id="contact">
      <div class="main-section__text">
        <h2>Contact</h2>
        <p>Not functional</p>
      </div>
    </section>
  </main>
</MyLayout>

<style>
  /* main section, hero */
  .main-section {
    padding-block: 10em;
    padding-inline: 2em;
    background: #1c1b22;

    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .main-section > div:first-of-type {
    padding: 1em;
  }

  .hero {
    min-height: 100vh;
    color: #ddd;
    position: sticky;
    top: 0;
    z-index: -2;
    display: flex;
    flex-direction: column;
  }

  .hero__text {
    background: #2d2d3f;
    text-align: center;
    padding-block: 1em;
    padding-inline: 1em;
    z-index: 1;
    flex: 1 1 0;

    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .hero__text h1 {
    font-size: min(2rem, 8vmin);
    color: #ddd;
    width: max-content;
    margin: 0 auto;
    position: relative;
  }

  .hero__text h1::before,
  .hero__text h1::after {
    content: "";
    position: absolute;
    inset: 0;
  }

  .hero__text h1::before {
    background: #2d2d3f;
    animation: typing 3s steps(18) 1000ms forwards;
  }

  .hero__text h1::after {
    background: white;
    width: 0.2rem;
    top: -5px;
    animation: typing 3s steps(18) 1000ms forwards, blink 1000ms infinite;
  }

  @keyframes typing {
    to {
      left: 100%;
    }
  }

  @keyframes blink {
    50% {
      background: transparent;
    }
    100% {
      background: white;
    }
  }

  .hero__image {
    order: -1;
    flex: 2 1 0;
    background-image: url(../assets/f1-75.webp);
    background-size: cover;
    background-position: center;
    overflow: hidden;
  }

  .hero__image > img {
    max-height: 100%;
    position: relative;
  }

  .skill-card {
    font-size: 1.2em;
    border-radius: 0.5em;
    outline: 1px solid #444;
    padding-block: 2rem;
    padding-inline: 4rem;
    max-width: 20ch;
    overflow: hidden;
    user-select: none;

    transition: transform var(--transition), outline var(--transition);

    display: flex;
    justify-content: center;
    align-items: center;
    flex: 1 1 0;
    position: relative;
  }

  .skill-text > i {
    display: block;
    margin-bottom: 0.5em;
  }

  .skill-card:hover {
    transform: scale(105%);
    outline: 1px solid #aaa;
  }

  .about__text {
    max-width: 75ch;
  }

  /* about section */
  .about-section {
    background: var(--about-bg);
  }

  @media screen and (min-width: 50em) {
    .hero__text {
      padding: 10em 10em 10em 5em;
      text-align: left;
      display: block;
      position: absolute;
      top: 0;
      bottom: 0;
      clip-path: polygon(100% 0, 50% 100%, 0% 100%, 0 0%);
    }

    .hero__text h1 {
      margin: 1em auto;
    }
    .hero__text p {
      max-width: 40ch;
    }

    .main-section {
      padding-inline: 4em;
    }

    .contact-section > div {
      flex: 1 1 0;
    }

    .contact-section {
      flex-direction: row;
    }
  }
</style>
